<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.nff.repository.dao.UserDAO">
	
	<!-- admin userlist -->
	<select id="adminSelectUser" resultType="User">
		select u.user_no,
		u.user_email,
		u.nick_name,
		u.join_date,
		(select count(*) 
		from tb_review as r
		where u.user_no = r.user_no) as review_cnt
		from tb_user u
		 order by user_no desc;
	</select>
	<!-- admin userdetail 
	<select id="adminSelectOneUser" parameterType="int" resultType="User">
		select *
		  from tb_user
		 where user_no = #{no} 
	</select>	
	-->
	<!-- admin userdelete -->
	<update id="adminDeleteUser" parameterType="int">
		update tb_user
		  set user_type = 2
		 where user_no = #{no}
	</update>
	
</mapper>